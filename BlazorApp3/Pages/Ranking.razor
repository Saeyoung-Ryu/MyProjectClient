@page "/Ranking"
@using BlazorApp3.Common.Type
@using Enum
@using BlazorApp3.Common.Manager

<PageTitle>랭킹</PageTitle>

<h1>랭킹</h1>
<hr />
<br>

@if (isLoading)
{
    <MatProgressBar Indeterminate="true"></MatProgressBar>
}
else
{
    <br>
    <br>
    <MatTabGroup @bind-ActiceIndex="@tabIndex" Style="width: 900px; color: #198754">
        
        <MatTab Label="전체">
            <br><br>
            <table id="Border-Solid" class="table table-border table-hover w-auto">
                <thead>
                <tr class="table-primary">
                    <th>랭킹</th>
                    <th>닉네임</th>
                    <th>승리</th>
                    <th>패배</th>
                    <th>승률</th>
                </tr>
                </thead>
                <tbody>
                @for (int i = 0; i < RankManager.totalRankList.Count; i++)
                {
                    <tr>
                        <td>@(i + 1)</td>
                        <td>@RankManager.totalRankList[i].NickName</td>
                        <td>@RankManager.totalRankList[i].WinCount</td>
                        <td>@RankManager.totalRankList[i].LoseCount</td>
                        <td>@RankManager.totalRankList[i].WinRate%</td>
                    </tr>
                }
                </tbody>
            </table>
        </MatTab>

        <MatTab Label="탑">
            <br><br>
            <table id="Border-Solid" class="table table-border table-hover w-auto">
                <thead>
                <tr class="table-primary">
                    <th>랭킹</th>
                    <th>닉네임</th>
                    <th>승리</th>
                    <th>패배</th>
                    <th>승률</th>
                </tr>
                </thead>
                <tbody>
                @foreach(var item in RankManager.topRankList)
                {
                    <tr>
                        <td>@item.Rank</td>
                        <td>@item.NickName</td>
                        <td>@item.WinCount</td>
                        <td>@item.LoseCount</td>
                        <td>@item.WinRate%</td>
                    </tr>
                }
                </tbody>
            </table>
        </MatTab>

        <MatTab Label="정글">
            <br><br>
            <table id="Border-Solid" class="table table-border table-hover w-auto">
                <thead>
                <tr class="table-primary">
                    <th>랭킹</th>
                    <th>닉네임</th>
                    <th>승리</th>
                    <th>패배</th>
                    <th>승률</th>
                </tr>
                </thead>
                <tbody>
                @foreach(var item in RankManager.jgRankList)
                {
                    <tr>
                        <td>@item.Rank</td>
                        <td>@item.NickName</td>
                        <td>@item.WinCount</td>
                        <td>@item.LoseCount</td>
                        <td>@item.WinRate%</td>
                    </tr>
                }
                </tbody>
            </table>
        </MatTab>
        
        <MatTab Label="미드">
            <br><br>
            <table id="Border-Solid" class="table table-border table-hover w-auto">
                <thead>
                <tr class="table-primary">
                    <th>랭킹</th>
                    <th>닉네임</th>
                    <th>승리</th>
                    <th>패배</th>
                    <th>승률</th>
                </tr>
                </thead>
                <tbody>
                @foreach(var item in RankManager.midRankList)
                {
                    <tr>
                        <td>@item.Rank</td>
                        <td>@item.NickName</td>
                        <td>@item.WinCount</td>
                        <td>@item.LoseCount</td>
                        <td>@item.WinRate%</td>
                    </tr>
                }
                </tbody>
            </table>
        </MatTab>
        
        <MatTab Label="원딜">
            <br><br>
            <table id="Border-Solid" class="table table-border table-hover w-auto">
                <thead>
                <tr class="table-primary">
                    <th>랭킹</th>
                    <th>닉네임</th>
                    <th>승리</th>
                    <th>패배</th>
                    <th>승률</th>
                </tr>
                </thead>
                <tbody>
                @foreach(var item in RankManager.adcRankList)
                {
                    <tr>
                        <td>@item.Rank</td>
                        <td>@item.NickName</td>
                        <td>@item.WinCount</td>
                        <td>@item.LoseCount</td>
                        <td>@item.WinRate%</td>
                    </tr>
                }
                </tbody>
            </table>
        </MatTab>
        
        <MatTab Label="서폿">
            <br><br>
            <table id="Border-Solid" class="table table-border table-hover w-auto">
                <thead>
                <tr class="table-primary">
                    <th>랭킹</th>
                    <th>닉네임</th>
                    <th>승리</th>
                    <th>패배</th>
                    <th>승률</th>
                </tr>
                </thead>
                <tbody>
                @foreach(var item in RankManager.supRankList)
                {
                    <tr>
                        <td>@item.Rank</td>
                        <td>@item.NickName</td>
                        <td>@item.WinCount</td>
                        <td>@item.LoseCount</td>
                        <td>@item.WinRate%</td>
                    </tr>
                }
                </tbody>
            </table>
        </MatTab>

    </MatTabGroup>
}

@code
{
    private bool isLoading = false;
}

@code
{
    private int tabIndex = 0;
}
